{
  "$jsonSchema": {
    "additionalProperties": false,
    "bsonType": "object",
    "description": "Schema for permittable documents in the reearth-accounts database",
    "properties": {
      "_id": {
        "bsonType": "objectId",
        "description": "MongoDB internal ID"
      },
      "id": {
        "bsonType": "string",
        "description": "Permittable ID (ULID format)"
      },
      "roleids": {
        "bsonType": "array",
        "description": "List of role IDs assigned to this user. Default: []",
        "items": {
          "bsonType": "string"
        }
      },
      "userid": {
        "bsonType": "string",
        "description": "User ID this permittable represents"
      },
      "workspace_roles": {
        "bsonType": "array",
        "description": "Workspace-specific role assignments",
        "items": {
          "bsonType": "object",
          "properties": {
            "role_id": {
              "bsonType": "string",
              "description": "Role ID (ULID format)"
            },
            "workspace_id": {
              "bsonType": "string",
              "description": "Workspace ID (ULID format)"
            }
          }
        }
      }
    },
    "required": [
      "id",
      "userid"
    ],
    "title": "Permittable Collection Schema"
  }
}
